<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Representing Data in R | Essentials of Mathematics and Statistics</title>
<meta name="author" content="Anas A Rana">
<meta name="description" content="In this exercise, we will go through some aspects of Linear Algebra and how we implement them in R. We will also look how to represent data and encode it properly for applications. It will teach...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 8 Representing Data in R | Essentials of Mathematics and Statistics">
<meta property="og:type" content="book">
<meta property="og:description" content="In this exercise, we will go through some aspects of Linear Algebra and how we implement them in R. We will also look how to represent data and encode it properly for applications. It will teach...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Representing Data in R | Essentials of Mathematics and Statistics">
<meta name="twitter:description" content="In this exercise, we will go through some aspects of Linear Algebra and how we implement them in R. We will also look how to represent data and encode it properly for applications. It will teach...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Manrope-0.4.9/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira%20Code:wght@100&amp;display=swap" rel="stylesheet">
<link href="libs/Spectral-0.4.9/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Essentials of Mathematics and Statistics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction to the Practical</a></li>
<li class="book-part">Probability in R</li>
<li><a class="" href="simulating-random-numbers.html"><span class="header-section-number">1</span> Simulating random numbers</a></li>
<li><a class="" href="markov-chains.html"><span class="header-section-number">2</span> Markov Chains</a></li>
<li><a class="" href="a-monopoly-simulation.html"><span class="header-section-number">3</span> A Monopoly simulation</a></li>
<li><a class="" href="monte-carlo-methods.html"><span class="header-section-number">4</span> Monte Carlo Methods</a></li>
<li><a class="" href="maximum-likelihood.html"><span class="header-section-number">5</span> Maximum Likelihood</a></li>
<li><a class="" href="confidence-intervals.html"><span class="header-section-number">6</span> Confidence Intervals</a></li>
<li><a class="" href="computational-testing-techniques.html"><span class="header-section-number">7</span> Computational Testing Techniques</a></li>
<li class="book-part">Statistical Modelling</li>
<li><a class="active" href="representing-data-in-r.html"><span class="header-section-number">8</span> Representing Data in R</a></li>
<li><a class="" href="principal-component-analysis.html"><span class="header-section-number">9</span> Principal component analysis</a></li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">10</span> Linear regression</a></li>
<li><a class="" href="multiple-regression.html"><span class="header-section-number">11</span> Multiple regression</a></li>
<li><a class="" href="qq-plot.html"><span class="header-section-number">12</span> QQ Plot - How To Use And Interpret</a></li>
<li><a class="" href="generalised-linear-models.html"><span class="header-section-number">13</span> Generalised Linear Models</a></li>
<li class="book-part">Solutions</li>
<li><a class="" href="simSol.html"><span class="header-section-number">A</span> Solution: Simulations</a></li>
<li><a class="" href="mc-solution.html"><span class="header-section-number">B</span> Solution: Three state Markov Chain</a></li>
<li><a class="" href="monopolySol.html"><span class="header-section-number">C</span> Solution: Monopoly</a></li>
<li><a class="" href="solution-monte-carlo.html"><span class="header-section-number">D</span> Solution: Monte Carlo</a></li>
<li><a class="" href="sol-mle.html"><span class="header-section-number">E</span> Solution: Model Answers: MLE</a></li>
<li><a class="" href="sol-ex-CI.html"><span class="header-section-number">F</span> Solution: Confidence Interval</a></li>
<li><a class="" href="solution-computational-testing.html"><span class="header-section-number">G</span> Solution: Computational Testing</a></li>
<li><a class="" href="representing_data-sol.html"><span class="header-section-number">H</span> Solution: Representing Data</a></li>
<li><a class="" href="solution-linear-regression-and-correlation.html"><span class="header-section-number">I</span> Solution: Linear regression and Correlation</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="start.html">Getting started in R and Rstudio</a></li>
<li><a class="" href="data-sets.html">Data sets</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/anasrana/ems-practicals">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="representing-data-in-r" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Representing Data in R<a class="anchor" aria-label="anchor" href="#representing-data-in-r"><i class="fas fa-link"></i></a>
</h1>
<p>In this exercise, we will go through some aspects of Linear Algebra and how we implement them in R. We will also look how to represent data and encode it properly for applications. It will teach you to implement statistical methodologies effectively in R.</p>
<p>After these initial introduction to concepts, we will implement some linear algebraic manipulations. In this section you should check if you can repeat the calculations by hand. You will have the solutions in R and can check if you reach the same solutions calculating by hand.</p>
<p>Some of the ideas will be familiar to you but we will phrase them in the linear algebra context. We will use data built into R or we will generate our own data.</p>
<div id="representing-data-as-vectors" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Representing data as vectors<a class="anchor" aria-label="anchor" href="#representing-data-as-vectors"><i class="fas fa-link"></i></a>
</h2>
<p>The first thing we will revisit is vectors. This is quite basic and you have already encountered it so think of this as a refresher. We create a basic vector using <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> and assign it using <code>&lt;-</code> to a variable. Let us create a vector <span class="math inline">\(x\)</span> going from 1 to 3. We can also use the function <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> to create a more elaborate vector. Let us create another vector, <span class="math inline">\(y\)</span>, that is made up of <span class="math inline">\(x\)</span> and sequence from 10 to 120 in steps of 20. Some functions will also return vectors, a simple example is creating random numbers for instance using <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code>. Let us create another vector, <span class="math inline">\(z\)</span>, which consists of 7 random numbers from <span class="math inline">\(\operatorname{N}(0,1)\)</span>.</p>
<p><em>Hint: Use <code><a href="https://rdrr.io/r/base/seq.html">?seq</a></code> (or <code><a href="https://rdrr.io/r/stats/Normal.html">?rnorm</a></code>) to find more information on a function. Make use of this in everything that follows.</em></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb74-1"><a href="representing-data-in-r.html#cb74-1"></a><span class="co"># Create x vector</span></span>
<span id="cb74-2"><a href="representing-data-in-r.html#cb74-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb74-3"><a href="representing-data-in-r.html#cb74-3"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb76-1"><a href="representing-data-in-r.html#cb76-1"></a><span class="co"># Create y vector</span></span>
<span id="cb76-2"><a href="representing-data-in-r.html#cb76-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(x, <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">10</span>, <span class="at">to =</span> <span class="dv">120</span>, <span class="at">by =</span> <span class="dv">20</span>))</span>
<span id="cb76-3"><a href="representing-data-in-r.html#cb76-3"></a><span class="fu">print</span>(y)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1]   1   2   3  10  30  50  70  90 110</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb78-1"><a href="representing-data-in-r.html#cb78-1"></a><span class="co"># Create z vector</span></span>
<span id="cb78-2"><a href="representing-data-in-r.html#cb78-2"></a>z <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">7</span>)</span>
<span id="cb78-3"><a href="representing-data-in-r.html#cb78-3"></a><span class="fu">print</span>(z)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1]  0.96356355  0.05798104  0.85412413 -0.78319170
#&gt; [5]  0.16486881 -1.65757463  0.76259245</code></pre>
<p>When you are trying to implement any vector operations in R you will be using data and for manipulations. It is important that data is made up of numbers and not anything else, otherwise operations will not work. There is one way of checking if what we have created is a vector made up of numbers, we can use the function <code><a href="https://rdrr.io/r/base/class.html">class()</a></code>. If it only contains numbers you will get a response of <code>integer</code>, or <code>numeric</code>. We can check what it looks like for the vectors we have created.</p>
<p><em>Note: We can nest functions in R, to run them. We make use of that here.</em></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb80-1"><a href="representing-data-in-r.html#cb80-1"></a><span class="co"># Check what each of the vectors is made of.</span></span>
<span id="cb80-2"><a href="representing-data-in-r.html#cb80-2"></a><span class="co"># We nest the print function and class function to create one output.</span></span>
<span id="cb80-3"><a href="representing-data-in-r.html#cb80-3"></a><span class="fu">print</span>(<span class="fu">class</span>(x))</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] "integer"</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb82-1"><a href="representing-data-in-r.html#cb82-1"></a><span class="co"># We can also introduce a step inbetween</span></span>
<span id="cb82-2"><a href="representing-data-in-r.html#cb82-2"></a>a <span class="ot">&lt;-</span> <span class="fu">class</span>(y)</span>
<span id="cb82-3"><a href="representing-data-in-r.html#cb82-3"></a><span class="fu">print</span>(a)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] "numeric"</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb84-1"><a href="representing-data-in-r.html#cb84-1"></a><span class="fu">print</span>(<span class="fu">class</span>(z))</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] "numeric"</code></pre>
<p>What happens when one of the entries in the vector is a string. We will create a new vector <code>x1</code> based on <span class="math inline">\(x\)</span> and <code>y2</code> based on <span class="math inline">\(y\)</span> to test what happens to the vector.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb86-1"><a href="representing-data-in-r.html#cb86-1"></a><span class="co"># Create a vector x1</span></span>
<span id="cb86-2"><a href="representing-data-in-r.html#cb86-2"></a>x1 <span class="ot">&lt;-</span> <span class="fu">c</span>(x, <span class="st">"x"</span>)</span>
<span id="cb86-3"><a href="representing-data-in-r.html#cb86-3"></a><span class="co"># Print the class for vector x1</span></span>
<span id="cb86-4"><a href="representing-data-in-r.html#cb86-4"></a><span class="fu">print</span>(<span class="fu">class</span>(x1))</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] "character"</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb88-1"><a href="representing-data-in-r.html#cb88-1"></a><span class="co"># Create a vector y1</span></span>
<span id="cb88-2"><a href="representing-data-in-r.html#cb88-2"></a>y1 <span class="ot">&lt;-</span> <span class="fu">c</span>(y, <span class="st">"1"</span>)</span>
<span id="cb88-3"><a href="representing-data-in-r.html#cb88-3"></a><span class="co"># Print the class for vector y1</span></span>
<span id="cb88-4"><a href="representing-data-in-r.html#cb88-4"></a><span class="fu">print</span>(<span class="fu">class</span>(y1))</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] "character"</code></pre>
<p>This is not a vector we can use for manipulations as you will see in the next section.</p>
</div>
<div id="vector-operations" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> Vector operations<a class="anchor" aria-label="anchor" href="#vector-operations"><i class="fas fa-link"></i></a>
</h2>
<div id="addition" class="section level3" number="8.2.1">
<h3>
<span class="header-section-number">8.2.1</span> Addition<a class="anchor" aria-label="anchor" href="#addition"><i class="fas fa-link"></i></a>
</h3>
<p>Next we look at operations we can perform with vectors. There are a few simple ones we will explore and also see what errors we can have. You will also have noticed a few ways that R behaves in unexpected ways, this can be useful and can also cause errors. You need to be aware of them to exploit them or know when something has gone wrong.</p>
<p>The first thing we look at is addition. We can add two vectors together that are of the same length. The first quirk in R is that we can also add vectors together that are multiples of each other. This is important to remember as it doesn’t follow the rules we looked at for linear algebra. The simplest such case is when we add a number to a vector. We will look at the error message when the vectors are not of equal length.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb90-1"><a href="representing-data-in-r.html#cb90-1"></a><span class="co"># Add the same vector to itself</span></span>
<span id="cb90-2"><a href="representing-data-in-r.html#cb90-2"></a>x <span class="sc">+</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 2 4 6</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb92-1"><a href="representing-data-in-r.html#cb92-1"></a><span class="co"># Add a number to the vector</span></span>
<span id="cb92-2"><a href="representing-data-in-r.html#cb92-2"></a>x <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 3 4 5</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb94-1"><a href="representing-data-in-r.html#cb94-1"></a><span class="co"># We can add x + y even though they are not the same length</span></span>
<span id="cb94-2"><a href="representing-data-in-r.html#cb94-2"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1]   2   4   6  11  32  53  71  92 113</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb96-1"><a href="representing-data-in-r.html#cb96-1"></a><span class="co"># Check the length of each</span></span>
<span id="cb96-2"><a href="representing-data-in-r.html#cb96-2"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 3</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb98-1"><a href="representing-data-in-r.html#cb98-1"></a><span class="fu">length</span>(y)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 9</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb100-1"><a href="representing-data-in-r.html#cb100-1"></a><span class="fu">length</span>(x <span class="sc">+</span> y)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 9</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb102-1"><a href="representing-data-in-r.html#cb102-1"></a><span class="co"># We can try to add vectors of different length</span></span>
<span id="cb102-2"><a href="representing-data-in-r.html#cb102-2"></a>x <span class="sc">+</span> z</span></code></pre></div>
<pre><code>#&gt; Warning in x + z: longer object length is not a multiple of
#&gt; shorter object length</code></pre>
<pre class="bg-info"><code>#&gt; [1] 1.9635636 2.0579810 3.8541241 0.2168083 2.1648688
#&gt; [6] 1.3424254 1.7625924</code></pre>
<p>We can add <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, only because one is a multiple of the other. The vector <span class="math inline">\(x\)</span> has length 3 and the vector <span class="math inline">\(y\)</span> has length 9. The addition is performed without error. You will find that the shorter vector is replicated to perform the addition and the new vector is the same length as the longer. The final part we tried is to add two vectors which are not multiples of each other. You will notice that the code will run and produce a result but you will get a warning message. This is among the reasons you want to be careful with warnings and checking each step of functions and code you write.</p>
</div>
<div id="multiplication" class="section level3" number="8.2.2">
<h3>
<span class="header-section-number">8.2.2</span> Multiplication<a class="anchor" aria-label="anchor" href="#multiplication"><i class="fas fa-link"></i></a>
</h3>
<p>The second important operation is multiplication. We can obviously multiply a vector with a numerical value. We can also multiply two vectors of the same length, and two vectors of different length, where the lengths are multiples of each other. This operation has no equivalent in linear algebra we have studied but it can be useful and can provide a shortcut for many applications. We can of course also multiply the transpose of a vector with a vector of equal length which results in a simple number. For this we use the special product sign <code>%*%</code>. Finally we can also check what happens if we multiply a numeric vector with a character vector.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb105-1"><a href="representing-data-in-r.html#cb105-1"></a><span class="co"># Multiply by scalar</span></span>
<span id="cb105-2"><a href="representing-data-in-r.html#cb105-2"></a><span class="dv">2</span> <span class="sc">*</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 2 4 6</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb107-1"><a href="representing-data-in-r.html#cb107-1"></a><span class="co"># Multiply two vectors of equal length</span></span>
<span id="cb107-2"><a href="representing-data-in-r.html#cb107-2"></a>x <span class="sc">*</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 1 4 9</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb109-1"><a href="representing-data-in-r.html#cb109-1"></a><span class="co"># Multiply two vectors of unequal length</span></span>
<span id="cb109-2"><a href="representing-data-in-r.html#cb109-2"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1]   1   4   9  10  60 150  70 180 330</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb111-1"><a href="representing-data-in-r.html#cb111-1"></a><span class="co"># Vector multiplications</span></span>
<span id="cb111-2"><a href="representing-data-in-r.html#cb111-2"></a>x <span class="sc">%*%</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1]
#&gt; [1,]   14</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb113-1"><a href="representing-data-in-r.html#cb113-1"></a><span class="co"># Multiply character vector with numeric vector</span></span>
<span id="cb113-2"><a href="representing-data-in-r.html#cb113-2"></a>x <span class="sc">*</span> x1</span></code></pre></div>
<pre><code>#&gt; Error in x * x1: non-numeric argument to binary operator</code></pre>
<p>You get an error message for the final product because one of the vectors is not a numeric vector. There are many other useful commands <code>sum(x)</code> will sum the values of a vector. You can also use <code>max(x)</code> or <code>min(x)</code> to find the maximum and minimal entry of a vector. There are many others we don’t have time to go into.</p>
</div>
</div>
<div id="representing-data-as-a-matrix" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Representing data as a matrix<a class="anchor" aria-label="anchor" href="#representing-data-as-a-matrix"><i class="fas fa-link"></i></a>
</h2>
<p>An important part of linear algebra is of course also matrices. In R a matrix is simply data arrange in two dimensions as a square or rectangle. Here is an example of a simple matrix:</p>
<p><span class="math display">\[
  A = \begin{bmatrix}
            1 &amp; 3 &amp; 4\\
            5 &amp; 9 &amp; 2
        \end{bmatrix}
\]</span></p>
<p>In R to create a matrix using the <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> function. We first provide a data vector and then we can specify how many rows and columns the matrix has and in which order the matrix is filled with the data. Either filling rows one at a time or columns at a time.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb115-1"><a href="representing-data-in-r.html#cb115-1"></a><span class="co"># Create a matrix A using the specified vector</span></span>
<span id="cb115-2"><a href="representing-data-in-r.html#cb115-2"></a>A <span class="ot">&lt;-</span></span>
<span id="cb115-3"><a href="representing-data-in-r.html#cb115-3"></a><span class="fu">matrix</span>(</span>
<span id="cb115-4"><a href="representing-data-in-r.html#cb115-4"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="co"># data</span></span>
<span id="cb115-5"><a href="representing-data-in-r.html#cb115-5"></a>  <span class="at">nrow =</span> <span class="dv">2</span>, <span class="co"># 2 rows</span></span>
<span id="cb115-6"><a href="representing-data-in-r.html#cb115-6"></a>  <span class="at">ncol =</span> <span class="dv">3</span>, <span class="co"># 3 columns</span></span>
<span id="cb115-7"><a href="representing-data-in-r.html#cb115-7"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span> <span class="co"># fill by row</span></span>
<span id="cb115-8"><a href="representing-data-in-r.html#cb115-8"></a>)</span>
<span id="cb115-9"><a href="representing-data-in-r.html#cb115-9"></a></span>
<span id="cb115-10"><a href="representing-data-in-r.html#cb115-10"></a><span class="co"># Create a matrix B using the specified vector</span></span>
<span id="cb115-11"><a href="representing-data-in-r.html#cb115-11"></a>B <span class="ot">&lt;-</span></span>
<span id="cb115-12"><a href="representing-data-in-r.html#cb115-12"></a><span class="fu">matrix</span>(</span>
<span id="cb115-13"><a href="representing-data-in-r.html#cb115-13"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="co"># data</span></span>
<span id="cb115-14"><a href="representing-data-in-r.html#cb115-14"></a>  <span class="at">nrow =</span> <span class="dv">2</span>, <span class="co"># 2 rows</span></span>
<span id="cb115-15"><a href="representing-data-in-r.html#cb115-15"></a>  <span class="at">ncol =</span> <span class="dv">3</span>, <span class="co"># 3 columns</span></span>
<span id="cb115-16"><a href="representing-data-in-r.html#cb115-16"></a>  <span class="at">byrow =</span> <span class="cn">FALSE</span> <span class="co"># fill by column</span></span>
<span id="cb115-17"><a href="representing-data-in-r.html#cb115-17"></a>)</span>
<span id="cb115-18"><a href="representing-data-in-r.html#cb115-18"></a></span>
<span id="cb115-19"><a href="representing-data-in-r.html#cb115-19"></a><span class="co"># Create a matrix C using the specified vector</span></span>
<span id="cb115-20"><a href="representing-data-in-r.html#cb115-20"></a>C <span class="ot">&lt;-</span></span>
<span id="cb115-21"><a href="representing-data-in-r.html#cb115-21"></a><span class="fu">matrix</span>(</span>
<span id="cb115-22"><a href="representing-data-in-r.html#cb115-22"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="co"># data</span></span>
<span id="cb115-23"><a href="representing-data-in-r.html#cb115-23"></a>  <span class="at">nrow =</span> <span class="dv">3</span>, <span class="co"># 2 rows</span></span>
<span id="cb115-24"><a href="representing-data-in-r.html#cb115-24"></a>  <span class="at">ncol =</span> <span class="dv">2</span>, <span class="co"># 3 columns</span></span>
<span id="cb115-25"><a href="representing-data-in-r.html#cb115-25"></a>  <span class="at">byrow =</span> <span class="cn">FALSE</span> <span class="co"># fill by column</span></span>
<span id="cb115-26"><a href="representing-data-in-r.html#cb115-26"></a>)</span>
<span id="cb115-27"><a href="representing-data-in-r.html#cb115-27"></a></span>
<span id="cb115-28"><a href="representing-data-in-r.html#cb115-28"></a><span class="co"># Create a matrix D using the specified vector</span></span>
<span id="cb115-29"><a href="representing-data-in-r.html#cb115-29"></a>D <span class="ot">&lt;-</span></span>
<span id="cb115-30"><a href="representing-data-in-r.html#cb115-30"></a><span class="fu">matrix</span>(</span>
<span id="cb115-31"><a href="representing-data-in-r.html#cb115-31"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="co"># data</span></span>
<span id="cb115-32"><a href="representing-data-in-r.html#cb115-32"></a>  <span class="at">nrow =</span> <span class="dv">6</span>, <span class="co"># 2 rows</span></span>
<span id="cb115-33"><a href="representing-data-in-r.html#cb115-33"></a>  <span class="at">ncol =</span> <span class="dv">2</span>, <span class="co"># 3 columns</span></span>
<span id="cb115-34"><a href="representing-data-in-r.html#cb115-34"></a>  <span class="at">byrow =</span> <span class="cn">FALSE</span> <span class="co"># fill by column</span></span>
<span id="cb115-35"><a href="representing-data-in-r.html#cb115-35"></a>)</span>
<span id="cb115-36"><a href="representing-data-in-r.html#cb115-36"></a></span>
<span id="cb115-37"><a href="representing-data-in-r.html#cb115-37"></a><span class="co"># print matrix A</span></span>
<span id="cb115-38"><a href="representing-data-in-r.html#cb115-38"></a><span class="fu">print</span>(A)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    4
#&gt; [2,]    5    9    2</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb117-1"><a href="representing-data-in-r.html#cb117-1"></a><span class="co"># print matrix B</span></span>
<span id="cb117-2"><a href="representing-data-in-r.html#cb117-2"></a><span class="fu">print</span>(B)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    9
#&gt; [2,]    3    5    2</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb119-1"><a href="representing-data-in-r.html#cb119-1"></a><span class="co"># print matrix C</span></span>
<span id="cb119-2"><a href="representing-data-in-r.html#cb119-2"></a><span class="fu">print</span>(C)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    5
#&gt; [2,]    3    9
#&gt; [3,]    4    2</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb121-1"><a href="representing-data-in-r.html#cb121-1"></a><span class="co"># print matrix D</span></span>
<span id="cb121-2"><a href="representing-data-in-r.html#cb121-2"></a><span class="fu">print</span>(D)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    1
#&gt; [2,]    3    3
#&gt; [3,]    4    4
#&gt; [4,]    5    5
#&gt; [5,]    9    9
#&gt; [6,]    2    2</code></pre>
<p>You can see that it is not only important what the data vector looks like but also how we fill the matrix. You can see different options when we created matrices <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, and <span class="math inline">\(C\)</span>. We can create matrices with different dimensions and fill them up differently. It is important to know which matrix we are trying to create and to ensure we are doing it correctly.</p>
<p><strong>Always print it (if not too large) to check you have done it correctly.</strong></p>
<p>The other thing you will have seen when creating <span class="math inline">\(D\)</span> is that R will reuse your data vector if you put in a matrix where the number of elements are a multiple of the data vector without warning and with warning when it isn’t an exact exact multiple.</p>
<p>We use <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> to check the dimension of the data. For instance <code>dim(A) =</code> 2, 3, and <code>dim(D) =</code> 6, 2. The other useful thing is that we can name rows and columns to identify wha the data is that we have created. We can use it in two different ways, using <code><a href="https://rdrr.io/r/base/dimnames.html">dimnames()</a></code>, and a combination of <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> and <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code>.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb123-1"><a href="representing-data-in-r.html#cb123-1"></a><span class="co"># use dimnames to create both in one go using a list of vector</span></span>
<span id="cb123-2"><a href="representing-data-in-r.html#cb123-2"></a><span class="fu">dimnames</span>(A)  <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb123-3"><a href="representing-data-in-r.html#cb123-3"></a>  <span class="fu">c</span>(<span class="st">"sample1"</span>, <span class="st">"sample2"</span>), <span class="co"># rows</span></span>
<span id="cb123-4"><a href="representing-data-in-r.html#cb123-4"></a>  <span class="fu">c</span>(<span class="st">"patient1"</span>, <span class="st">"patient2"</span>, <span class="st">"patient3"</span>) <span class="co"># columns</span></span>
<span id="cb123-5"><a href="representing-data-in-r.html#cb123-5"></a>)</span>
<span id="cb123-6"><a href="representing-data-in-r.html#cb123-6"></a></span>
<span id="cb123-7"><a href="representing-data-in-r.html#cb123-7"></a><span class="co"># print matrix A</span></span>
<span id="cb123-8"><a href="representing-data-in-r.html#cb123-8"></a><span class="fu">print</span>(A)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        1        3        4
#&gt; sample2        5        9        2</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb125-1"><a href="representing-data-in-r.html#cb125-1"></a><span class="co"># Create column names B</span></span>
<span id="cb125-2"><a href="representing-data-in-r.html#cb125-2"></a><span class="fu">colnames</span>(B) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gene1"</span>, <span class="st">"gene2"</span>, <span class="st">"gene3"</span>)</span>
<span id="cb125-3"><a href="representing-data-in-r.html#cb125-3"></a><span class="co"># print matrix B</span></span>
<span id="cb125-4"><a href="representing-data-in-r.html#cb125-4"></a><span class="fu">print</span>(B)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      gene1 gene2 gene3
#&gt; [1,]     1     4     9
#&gt; [2,]     3     5     2</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb127-1"><a href="representing-data-in-r.html#cb127-1"></a><span class="co"># create row names C</span></span>
<span id="cb127-2"><a href="representing-data-in-r.html#cb127-2"></a><span class="fu">rownames</span>(C) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hospital1"</span>, <span class="st">"hospital2"</span>, <span class="st">"hospital3"</span>)</span>
<span id="cb127-3"><a href="representing-data-in-r.html#cb127-3"></a><span class="co"># print matrix C</span></span>
<span id="cb127-4"><a href="representing-data-in-r.html#cb127-4"></a><span class="fu">print</span>(C)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;           [,1] [,2]
#&gt; hospital1    1    5
#&gt; hospital2    3    9
#&gt; hospital3    4    2</code></pre>
<p>This can be very useful when working with data. We can also create a matrix based on a data matrix. We will make use of the <code>iris</code> data set which is built into R. This can be useful when the data is not made up of just numerical values and you need to perform linear algebraic manipulations. We can convert a subset of a <code>data.frame</code> to matrix using the <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code> command.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb129-1"><a href="representing-data-in-r.html#cb129-1"></a><span class="co"># Load iris data</span></span>
<span id="cb129-2"><a href="representing-data-in-r.html#cb129-2"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb129-3"><a href="representing-data-in-r.html#cb129-3"></a></span>
<span id="cb129-4"><a href="representing-data-in-r.html#cb129-4"></a><span class="co"># Look at first 6 rows of the data</span></span>
<span id="cb129-5"><a href="representing-data-in-r.html#cb129-5"></a><span class="fu">head</span>(iris)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
#&gt; 1          5.1         3.5          1.4         0.2  setosa
#&gt; 2          4.9         3.0          1.4         0.2  setosa
#&gt; 3          4.7         3.2          1.3         0.2  setosa
#&gt; 4          4.6         3.1          1.5         0.2  setosa
#&gt; 5          5.0         3.6          1.4         0.2  setosa
#&gt; 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb131-1"><a href="representing-data-in-r.html#cb131-1"></a><span class="co"># Create a matrix of the first 3 columns and the first 10 rows</span></span>
<span id="cb131-2"><a href="representing-data-in-r.html#cb131-2"></a>iris_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb131-3"><a href="representing-data-in-r.html#cb131-3"></a></span>
<span id="cb131-4"><a href="representing-data-in-r.html#cb131-4"></a><span class="fu">print</span>(iris_matrix)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;    Sepal.Length Sepal.Width Petal.Length
#&gt; 1           5.1         3.5          1.4
#&gt; 2           4.9         3.0          1.4
#&gt; 3           4.7         3.2          1.3
#&gt; 4           4.6         3.1          1.5
#&gt; 5           5.0         3.6          1.4
#&gt; 6           5.4         3.9          1.7
#&gt; 7           4.6         3.4          1.4
#&gt; 8           5.0         3.4          1.5
#&gt; 9           4.4         2.9          1.4
#&gt; 10          4.9         3.1          1.5</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb133-1"><a href="representing-data-in-r.html#cb133-1"></a><span class="co"># Create a matrix of the first 10 rows and all columns</span></span>
<span id="cb133-2"><a href="representing-data-in-r.html#cb133-2"></a>iris_full <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ])</span>
<span id="cb133-3"><a href="representing-data-in-r.html#cb133-3"></a></span>
<span id="cb133-4"><a href="representing-data-in-r.html#cb133-4"></a><span class="fu">print</span>(iris_full)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width
#&gt; 1  "5.1"        "3.5"       "1.4"        "0.2"      
#&gt; 2  "4.9"        "3.0"       "1.4"        "0.2"      
#&gt; 3  "4.7"        "3.2"       "1.3"        "0.2"      
#&gt; 4  "4.6"        "3.1"       "1.5"        "0.2"      
#&gt; 5  "5.0"        "3.6"       "1.4"        "0.2"      
#&gt; 6  "5.4"        "3.9"       "1.7"        "0.4"      
#&gt; 7  "4.6"        "3.4"       "1.4"        "0.3"      
#&gt; 8  "5.0"        "3.4"       "1.5"        "0.2"      
#&gt; 9  "4.4"        "2.9"       "1.4"        "0.2"      
#&gt; 10 "4.9"        "3.1"       "1.5"        "0.1"      
#&gt;    Species 
#&gt; 1  "setosa"
#&gt; 2  "setosa"
#&gt; 3  "setosa"
#&gt; 4  "setosa"
#&gt; 5  "setosa"
#&gt; 6  "setosa"
#&gt; 7  "setosa"
#&gt; 8  "setosa"
#&gt; 9  "setosa"
#&gt; 10 "setosa"</code></pre>
<p>We can see that if the data we use in the <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code> command consists of more than numerical values all entries will be converted to characters. This will not allow for matrix manipulations. So you have to be careful when creating such a matrix.</p>
</div>
<div id="matrix-operations" class="section level2" number="8.4">
<h2>
<span class="header-section-number">8.4</span> Matrix operations<a class="anchor" aria-label="anchor" href="#matrix-operations"><i class="fas fa-link"></i></a>
</h2>
<p>Now we can look at matrix operations that will allow us to perform operations. We can create a transpose of a matrix using the <code><a href="https://rdrr.io/r/base/t.html">t()</a></code> command. All normal arithmetic operations like addition and subs-traction. There are multiple ways we can use to perform multiplications. If we use the simple product <code>*</code> operation it multiplies both matrices element by element. We did not cover this in the lectures but it is called a Hadamard product. We can implement the matrix product using <code>%*%</code> we can also use this to multiply a vector with a matrix.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb135-1"><a href="representing-data-in-r.html#cb135-1"></a><span class="co"># Substraction</span></span>
<span id="cb135-2"><a href="representing-data-in-r.html#cb135-2"></a>A <span class="sc">-</span> B</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        0       -1       -5
#&gt; sample2        2        4        0</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb137-1"><a href="representing-data-in-r.html#cb137-1"></a><span class="co"># Addition</span></span>
<span id="cb137-2"><a href="representing-data-in-r.html#cb137-2"></a>A <span class="sc">+</span> B</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        2        7       13
#&gt; sample2        8       14        4</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb139-1"><a href="representing-data-in-r.html#cb139-1"></a><span class="co"># Adding matrices of different dimensions</span></span>
<span id="cb139-2"><a href="representing-data-in-r.html#cb139-2"></a>A <span class="sc">+</span> D</span></code></pre></div>
<pre><code>#&gt; Error in A + D: non-conformable arrays</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb141-1"><a href="representing-data-in-r.html#cb141-1"></a><span class="co"># Haddamard product</span></span>
<span id="cb141-2"><a href="representing-data-in-r.html#cb141-2"></a><span class="fu">print</span>(A)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        1        3        4
#&gt; sample2        5        9        2</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb143-1"><a href="representing-data-in-r.html#cb143-1"></a><span class="fu">print</span>(B)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      gene1 gene2 gene3
#&gt; [1,]     1     4     9
#&gt; [2,]     3     5     2</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb145-1"><a href="representing-data-in-r.html#cb145-1"></a>A <span class="sc">*</span> B</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        1       12       36
#&gt; sample2       15       45        4</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb147-1"><a href="representing-data-in-r.html#cb147-1"></a><span class="co"># matrix product with equal dimensions</span></span>
<span id="cb147-2"><a href="representing-data-in-r.html#cb147-2"></a>A <span class="sc">%*%</span> B</span></code></pre></div>
<pre><code>#&gt; Error in A %*% B: non-conformable arguments</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb149-1"><a href="representing-data-in-r.html#cb149-1"></a><span class="co"># matrix product with unequal dimension</span></span>
<span id="cb149-2"><a href="representing-data-in-r.html#cb149-2"></a><span class="fu">print</span>(A)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        1        3        4
#&gt; sample2        5        9        2</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb151-1"><a href="representing-data-in-r.html#cb151-1"></a><span class="fu">print</span>(B)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      gene1 gene2 gene3
#&gt; [1,]     1     4     9
#&gt; [2,]     3     5     2</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb153-1"><a href="representing-data-in-r.html#cb153-1"></a><span class="fu">print</span>(C)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;           [,1] [,2]
#&gt; hospital1    1    5
#&gt; hospital2    3    9
#&gt; hospital3    4    2</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb155-1"><a href="representing-data-in-r.html#cb155-1"></a><span class="fu">print</span>(D)</span></code></pre></div>
<pre class="bg-info"><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    1
#&gt; [2,]    3    3
#&gt; [3,]    4    4
#&gt; [4,]    5    5
#&gt; [5,]    9    9
#&gt; [6,]    2    2</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb157-1"><a href="representing-data-in-r.html#cb157-1"></a>A <span class="sc">%*%</span> C</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         [,1] [,2]
#&gt; sample1   26   40
#&gt; sample2   40  110</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb159-1"><a href="representing-data-in-r.html#cb159-1"></a>A <span class="sc">%*%</span> B</span></code></pre></div>
<pre><code>#&gt; Error in A %*% B: non-conformable arguments</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb161-1"><a href="representing-data-in-r.html#cb161-1"></a>C <span class="sc">%*%</span> A</span></code></pre></div>
<pre class="bg-info"><code>#&gt;           patient1 patient2 patient3
#&gt; hospital1       26       48       14
#&gt; hospital2       48       90       30
#&gt; hospital3       14       30       20</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb163-1"><a href="representing-data-in-r.html#cb163-1"></a>A <span class="sc">%*%</span> D</span></code></pre></div>
<pre><code>#&gt; Error in A %*% D: non-conformable arguments</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb165-1"><a href="representing-data-in-r.html#cb165-1"></a><span class="co"># product between matrix and vector</span></span>
<span id="cb165-2"><a href="representing-data-in-r.html#cb165-2"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 3</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb167-1"><a href="representing-data-in-r.html#cb167-1"></a><span class="fu">dim</span>(A)</span></code></pre></div>
<pre class="bg-info"><code>#&gt; [1] 2 3</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb169-1"><a href="representing-data-in-r.html#cb169-1"></a><span class="co"># Using a normal product operation</span></span>
<span id="cb169-2"><a href="representing-data-in-r.html#cb169-2"></a>A <span class="sc">*</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         patient1 patient2 patient3
#&gt; sample1        1        9        8
#&gt; sample2       10        9        6</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb171-1"><a href="representing-data-in-r.html#cb171-1"></a><span class="co"># matrix multiplication with a vector</span></span>
<span id="cb171-2"><a href="representing-data-in-r.html#cb171-2"></a>A <span class="sc">%*%</span> x</span></code></pre></div>
<pre class="bg-info"><code>#&gt;         [,1]
#&gt; sample1   19
#&gt; sample2   29</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb173-1"><a href="representing-data-in-r.html#cb173-1"></a>x <span class="sc">%*%</span> A</span></code></pre></div>
<pre><code>#&gt; Error in x %*% A: non-conformable arguments</code></pre>
<blockquote>
<p>Q1: Check the product <code>A * x</code>, does it behave as you expect? What about <code>x * A</code>?</p>
</blockquote>
<p>There are several other operations that can be useful for matrices. We will not be able to go through all of them. Here are a few you should explore:</p>
<ul>
<li><code><a href="https://rdrr.io/r/base/colSums.html">rowSums()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/colSums.html">colSums()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/colSums.html">rowMeans()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/det.html">det()</a></code></li>
</ul>
</div>
<div id="rep_data-ex" class="section level2" number="8.5">
<h2>
<span class="header-section-number">8.5</span> Testing application<a class="anchor" aria-label="anchor" href="#rep_data-ex"><i class="fas fa-link"></i></a>
</h2>
<p>We will create a few matrices and vectors here. Then you should implement some arithmetic operations in R. Following that you should try to perform the same calculations by hand to check you have done the operations correctly and can perform them by hand.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb175-1"><a href="representing-data-in-r.html#cb175-1"></a><span class="co"># Creating matrices</span></span>
<span id="cb175-2"><a href="representing-data-in-r.html#cb175-2"></a>A1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb175-3"><a href="representing-data-in-r.html#cb175-3"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>),</span>
<span id="cb175-4"><a href="representing-data-in-r.html#cb175-4"></a>  <span class="at">nrow =</span> <span class="dv">3</span></span>
<span id="cb175-5"><a href="representing-data-in-r.html#cb175-5"></a>)</span>
<span id="cb175-6"><a href="representing-data-in-r.html#cb175-6"></a></span>
<span id="cb175-7"><a href="representing-data-in-r.html#cb175-7"></a>A2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb175-8"><a href="representing-data-in-r.html#cb175-8"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">3</span>),</span>
<span id="cb175-9"><a href="representing-data-in-r.html#cb175-9"></a>  <span class="at">nrow =</span> <span class="dv">3</span></span>
<span id="cb175-10"><a href="representing-data-in-r.html#cb175-10"></a>)</span>
<span id="cb175-11"><a href="representing-data-in-r.html#cb175-11"></a></span>
<span id="cb175-12"><a href="representing-data-in-r.html#cb175-12"></a><span class="co"># Creating vectors</span></span>
<span id="cb175-13"><a href="representing-data-in-r.html#cb175-13"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb175-14"><a href="representing-data-in-r.html#cb175-14"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb175-15"><a href="representing-data-in-r.html#cb175-15"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb175-16"><a href="representing-data-in-r.html#cb175-16"></a>x1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb175-17"><a href="representing-data-in-r.html#cb175-17"></a>x2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb175-18"><a href="representing-data-in-r.html#cb175-18"></a>x3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>)</span>
<span id="cb175-19"><a href="representing-data-in-r.html#cb175-19"></a></span>
<span id="cb175-20"><a href="representing-data-in-r.html#cb175-20"></a><span class="co"># Another way to create matrices</span></span>
<span id="cb175-21"><a href="representing-data-in-r.html#cb175-21"></a>B1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(v1, v3, v2)</span>
<span id="cb175-22"><a href="representing-data-in-r.html#cb175-22"></a>B2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(v1, v2, v3)</span></code></pre></div>
<blockquote>
<p>Q2: Calculate the following matrices.</p>
<ul>
<li><code>A1 + A2</code></li>
<li><code>A1 * A2</code></li>
<li><code>A1 - A2</code></li>
<li><code>t(A1)</code></li>
<li><code>t(B2)</code></li>
</ul>
</blockquote>
<blockquote>
<p>Q3: Compute the norms of all vectors.</p>
</blockquote>
<blockquote>
<p>Q4: Compute the inverse of <code>A1</code>, <code>A2</code>, and <code>B3</code>.
You don’t need to invert the matrices by hand but check they are an inverse.</p>
</blockquote>
<blockquote>
<p>Q5: Compute <code>A1 %*% v1</code> and <code>v1 %*% A1</code></p>
</blockquote>
<blockquote>
<p>Q6: Compute <code>v2 %*% B2</code> and <code>B2 %*% v2</code></p>
</blockquote>
<button class="button">
<a href="representing_data-sol.html#representing_data-sol">Solution</a>
</button>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="computational-testing-techniques.html"><span class="header-section-number">7</span> Computational Testing Techniques</a></div>
<div class="next"><a href="principal-component-analysis.html"><span class="header-section-number">9</span> Principal component analysis</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#representing-data-in-r"><span class="header-section-number">8</span> Representing Data in R</a></li>
<li><a class="nav-link" href="#representing-data-as-vectors"><span class="header-section-number">8.1</span> Representing data as vectors</a></li>
<li>
<a class="nav-link" href="#vector-operations"><span class="header-section-number">8.2</span> Vector operations</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#addition"><span class="header-section-number">8.2.1</span> Addition</a></li>
<li><a class="nav-link" href="#multiplication"><span class="header-section-number">8.2.2</span> Multiplication</a></li>
</ul>
</li>
<li><a class="nav-link" href="#representing-data-as-a-matrix"><span class="header-section-number">8.3</span> Representing data as a matrix</a></li>
<li><a class="nav-link" href="#matrix-operations"><span class="header-section-number">8.4</span> Matrix operations</a></li>
<li><a class="nav-link" href="#rep_data-ex"><span class="header-section-number">8.5</span> Testing application</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/anasrana/ems-practicals/blob/master/representing_data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/anasrana/ems-practicals/edit/master/representing_data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Essentials of Mathematics and Statistics</strong>" was written by Anas A Rana. It was last built on 2024-10-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
